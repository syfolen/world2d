var suncom;(function(r){var e;(function(r){r[r["DEBUG"]=1]="DEBUG";r[r["ENGINEER"]=2]="ENGINEER";r[r["ENGINE"]=4]="ENGINE";r[r["NATIVE"]=8]="NATIVE";r[r["NETWORK"]=16]="NETWORK";r[r["NETWORK_HEARTBEAT"]=32]="NETWORK_HEARTBEAT";r[r["NORMAL"]=64]="NORMAL"})(e=r.DebugMode||(r.DebugMode={}));var t;(function(r){r[r["DEVELOP"]=0]="DEVELOP";r[r["DEBUG"]=1]="DEBUG";r[r["WEB"]=2]="WEB"})(t=r.EnvMode||(r.EnvMode={}));var n=function(){function r(r){this.source=[];this.dataMap={};if(typeof r==="number"){r=r.toString()}if(typeof r!=="string"){throw Error("非法的主键字段名："+r)}if(r.length==0){throw Error("无效的主键字段名字长度："+r.length)}else{this.$primaryKey=r}}r.prototype.$removeByIndex=function(r){var e=this.source[r];this.source.splice(r,1);var t=e[this.$primaryKey];delete this.dataMap[t];return e};r.prototype.$getIndexByValue=function(r,e){if(e===void 0){return-1}for(var t=0;t<this.source.length;t++){var n=this.source[t];if(n[r]===e){return t}}return-1};r.prototype.put=function(r){var e=r[this.$primaryKey];if(typeof e==="number"){e=e.toString()}if(typeof e!=="string"){throw Error("主键的值类型错误："+typeof e+"，只允许使用Number或String类型")}if(this.getByPrimaryValue(e)===null){this.source.push(r);this.dataMap[e]=r}else{throw Error("重复的主键值：["+this.$primaryKey+"]"+e)}return r};r.prototype.remove=function(r){var e=this.source.indexOf(r);if(e===-1){return r}else{return this.$removeByIndex(e)}};r.prototype.getByValue=function(r,e){if(r===this.$primaryKey){return this.getByPrimaryValue(e)}var t=this.$getIndexByValue(r,e);if(t===-1){return null}return this.source[t]};r.prototype.getByPrimaryValue=function(r){return this.dataMap[r]||null};r.prototype.removeByValue=function(r,e){var t=this.$getIndexByValue(r,e);if(t===-1){return null}else{return this.$removeByIndex(t)}};r.prototype.removeByPrimaryValue=function(r){var e=this.getByPrimaryValue(r);if(e===null){return null}return this.remove(e)};r.prototype.forEach=function(r){var e=this.source.slice(0);for(var t=0;t<e.length;t++){if(r(e[t])===true){break}}};return r}();r.Dictionary=n;var f=function(){function r(){}return r}();r.EventInfo=f;var i=function(){function r(){this.$events={};this.$onceList=[];this.$isCanceled=false}r.prototype.dispatchCancel=function(){this.$isCanceled=true};r.prototype.dispatchEvent=function(r,e,t){if(t===void 0){t=false}if(c.isStringInvalidOrEmpty(r)===true){throw Error("派发无效事件！！！")}var n=this.$events[r]||null;if(n===null){return}if(n.length===1){return}n[0]=true;var i=this.$isCanceled;this.$isCanceled=false;for(var o=1;o<n.length;o++){var a=n[o];if(a.receiveOnce===true){this.$onceList.push(a)}if(e===void 0){a.method.call(a.caller)}else if(e instanceof Array){a.method.apply(a.caller,e)}else{a.method.call(a.caller,e)}if(t===true&&this.$isCanceled){break}}this.$isCanceled=i;n[0]=false;while(this.$onceList.length){var u=this.$onceList.pop();this.removeEventListener(u.type,u.method,u.caller)}};r.prototype.addEventListener=function(r,e,t,n,i){if(n===void 0){n=false}if(i===void 0){i=1}if(c.isStringInvalidOrEmpty(r)===true){throw Error("注册无效事件！！！")}var o=this.$events[r]||null;if(o===null){o=this.$events[r]=[false]}else if(o[0]===true){o=this.$events[r]=o.concat();o[0]=false}var a=-1;for(var u=1;u<o.length;u++){var l=o[u];if(l.method===e&&l.caller===t){return}if(a===-1&&l.priority<i){a=u}}var s=new f;s.type=r;s.method=e;s.caller=t;s.priority=i;s.receiveOnce=n;if(a<0){o.push(s)}else{o.splice(a,0,s)}};r.prototype.removeEventListener=function(r,e,t){if(c.isStringInvalidOrEmpty(r)===true){throw Error("移除无效事件！！！")}var n=this.$events[r]||null;if(n===null){return}if(n.length===1){return}if(n[0]===true){n=this.$events[r]=n.slice(0);n[0]=false}for(var i=0;i<n.length;i++){var o=n[i];if(o.method===e&&o.caller===t){n.splice(i,1);break}}if(n.length===1){delete this.$events[r]}};return r}();r.EventSystem=i;var o=function(){function i(r,e,t,n){this.$args=t;this.$caller=r;this.$method=e}i.prototype.run=function(){if(this.$args===void 0){return this.$method.call(this.$caller)}else{return this.$method.apply(this.$caller,this.$args)}};i.prototype.runWith=function(r){if(this.$args===void 0){if(r instanceof Array){return this.$method.apply(this.$caller,r)}else{return this.$method.call(this.$caller,r)}}else{return this.$method.apply(this.$caller,this.$args.concat(r))}};i.create=function(r,e,t,n){return new i(r,e,t,n)};return i}();r.Handler=o;var c;(function(c){var r=0;function e(){r++;return r}c.createHashId=e;function t(r){var e=r.toString().trim();var t=e.indexOf("(");return e.substring(9,t)}c.getClassName=t;function n(r){var e=typeof r;if(e!=="object"){return e}var t=r.prototype||Object.getPrototypeOf(r)||null;if(t===null){return e}return c.getClassName(t.constructor)}c.getQualifiedClassName=n;function i(r,e){var t=Object.keys(e);for(var n=0;n<t.length;n++){var i=t[n];if(e[i]===r){return i}}return null}c.convertEnumToString=i;function o(r,e,t){if(t===void 0){t=true}if(e.NAME===void 0){throw Error("Common=> Invalid Enum Object")}else{if(e[r]===void 0){if(t===false){e[r]=r}else{e[r]=e.NAME+"."+e.MODULE+"."+r}}else{throw Error("Common=> Duplicate Enum String "+e.NAME+"["+r+"]")}}}c.addEnumString=o;function a(r){if(typeof r==="number"){return true}if(typeof r==="string"&&isNaN(Number(r))===false){return true}return false}c.isNumber=a;function u(r){if(typeof r==="number"){return false}if(typeof r==="string"&&r!==""){return false}return true}c.isStringInvalidOrEmpty=u;function l(r,e){var t=["%d","%s"];while(e.length>0){var n=null;var i=-1;for(var o=0;o<t.length;o++){var a=t[o];var u=r.indexOf(a);if(u===-1){continue}if(i===-1||u<i){n=a;i=u}}if(i===-1){throw Error("字符串替换未完成 str:"+r)}r=r.replace(n,e.shift())}return r}c.formatString=l;function s(r,e){while(e.length>0){if(r.indexOf("{$}")===-1){throw Error("字符串替换未完成 str:"+r)}else{r=r.replace("{$}",e.shift())}}return r}c.formatString$=s;function f(r){if(r<0){return-r}return r}c.abs=f;function v(r,e){if(e<r){return e}return r}c.min=v;function h(r,e){if(r<e){return e}return r}c.max=h;function g(r,e,t){if(r<e){return e}else if(r>t){return t}return r}c.clamp=g;function p(r,e){if(e===void 0){e=0}var t=r.toString();var n=t.indexOf(".");if(n===-1){return r}var i=n+1;if(t.length-i<=e){return r}var o=t.substr(0,n);var a=t.substr(i,e);var u=t.substr(i+e,2);var l=u.length===1?u:u.charAt(0);var s=u.length===1?"0":u.charAt(1);var f=parseInt(o+a);var c=parseInt(l+s);if(f<0&&c>0){f--;c=100-c}var v=c.toString();var h=parseInt(v.charAt(0));var g=parseInt(v.charAt(1));if(h>5){f+=1}else if(h===5){if(g>0){f++}else{var p=f%2;if(p===1||p===-1){f+=1}}}var m=f.toString();var d=m.length-e;var y=m.substr(0,d)+"."+m.substr(d);var E=parseFloat(y);return E}c.round=p;function m(r,e){if(e===void 0){e=0}var t=Math.pow(10,e+1);var n=Math.floor(r*t);var i=n%10;var o=(n-i)/10;if(i<0){o-=1;i+=10}if(i>5){o+=1}else if(i===5){var a=o%2;if(a===1||a===-1){o+=1}}return o/Math.pow(10,e)}c.$round=m;function d(r,e){var t=_.random()*(e-r);return Math.floor(t)+r}c.random=d;function y(r){if(r instanceof Date){return r}if(c.isNumber(r)===true){return new Date(r)}if(typeof r==="string"){var e=r.split(" ");var t=e.length===1?[]:e.shift().split("-");var n=e[0].split(":");if(n.length===3){if(t.length===0){var i=new Date;t[0]=i.getFullYear().toString();t[1]=(i.getMonth()+1).toString();t[2]=i.getDate().toString()}return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(n[0]),Number(n[1]),Number(n[2]))}return new Date(r)}throw Error("Convert Date Error:"+r)}c.convertToDate=y;function E(r,e,t){var n=c.convertToDate(t);if(r==="yy"){n.setFullYear(n.getFullYear()+e)}else if(r==="MM"){var i=e%12;var o=(e-i)/12;n.setFullYear(n.getFullYear()+o);var a=n.getMonth()+i;if(a>11){n.setMonth(a-11);n.setFullYear(n.getFullYear()+1)}else if(a<0){n.setMonth(i+11);n.setFullYear(n.getFullYear()-1)}else{n.setMonth(a)}}var u=n.valueOf();if(r==="ww"){u+=e*7*24*3600*1e3}else if(r==="dd"){u+=e*24*3600*1e3}else if(r==="hh"){u+=e*3600*1e3}else if(r==="mm"){u+=e*60*1e3}else if(r==="ss"){u+=e*1e3}else if(r==="ms"){u+=e}return u}c.dateAdd=E;function $(r,e,t){var n=c.convertToDate(e);var i=c.convertToDate(t);var o=n.valueOf();var a=i.valueOf();if(r==="ms"){return a-o}o=Math.floor(o/1e3);a=Math.floor(a/1e3);if(r==="ss"){return a-o}o=Math.floor(o/60);a=Math.floor(a/60);if(r==="mm"){return a-o}o=Math.floor(o/60);a=Math.floor(a/60);if(r==="hh"){return a-o}o=Math.floor(o/24);a=Math.floor(a/24);if(r==="dd"){return a-o}if(r==="ww"){return Math.floor((a-4-(o-4))/7)}if(r==="MM"){return i.getMonth()-n.getMonth()+(i.getFullYear()-n.getFullYear())*12}if(r==="yy"){return i.getFullYear()-n.getFullYear()}return 0}c.dateDiff=$;function b(r,e){var t=c.convertToDate(e);r=r.replace("MS",("00"+t.getMilliseconds().toString()).substr(-3));r=r.replace("ms",t.getMilliseconds().toString());r=r.replace("yyyy",t.getFullYear().toString());r=r.replace("yy",t.getFullYear().toString().substr(2,2));r=r.replace("MM",("0"+(t.getMonth()+1).toString()).substr(-2));r=r.replace("dd",("0"+t.getDate().toString()).substr(-2));r=r.replace("hh",("0"+t.getHours().toString()).substr(-2));r=r.replace("mm",("0"+t.getMinutes().toString()).substr(-2));r=r.replace("ss",("0"+t.getSeconds().toString()).substr(-2));r=r.replace("M",(t.getMonth()+1).toString());r=r.replace("d",t.getDate().toString());r=r.replace("h",t.getHours().toString());r=r.replace("m",t.getMinutes().toString());r=r.replace("s",t.getSeconds().toString());return r}c.formatDate=b;function M(r){throw Error("Not supported!!!")}c.md5=M;function N(r){var e=Object.keys(r).sort();var t=[];for(var n=0;n<e.length;n++){var i=e[n];if(i!=="sign"){t.push(i+"="+r[i])}}t.push("key=123456789012345678");return c.md5(t.join("&"))}c.createHttpSign=N;function S(r,e,t){if(t===void 0){t=null}for(var n=0;n<r.length;n++){var i=r[n];if(e(i)===true){if(t===null){return i}t.push(i)}}return t}c.findFromArray=S;function I(r,e){for(var t=0;t<e.length;t++){if(e[t]===r){e.splice(t,1);break}}}c.removeItemFromArray=I;function O(r,e){for(var t=0;t<r.length;t++){c.removeItemFromArray(r[t],e)}}c.removeItemsFromArray=O;function w(r){if(typeof r!=="string"){console.error("参数版本号无效");return 0}if(typeof D.VERSION!=="string"){console.error("版本号未设置");return 0}var e=r.split(".");var t=D.VERSION.split(".");var n=e.length>t.length?e.length:t.length;while(e.length<n){e.push("0")}while(t.length<n){t.push("0")}var i=false;var o=false;for(var a=0;a<n;a++){var u=e[a];var l=t[a];if(c.isNumber(u)===false){i=true;e[a]="0"}if(c.isNumber(l)===false){o=true;t[a]="0"}}if(i===true){console.error("参数版本号无效 ver:"+r)}if(o===true){console.error("当前版本号无效 ver:"+D.VERSION)}if(i===true||o===true){return 0}for(var a=0;a<n;a++){var u=e[a];var l=t[a];var s=Number(u);var f=Number(l);if(s<f){return 1}else if(s>f){return-1}}return 0}c.compareVersion=w})(c=r.Common||(r.Common={}));var a;(function(r){var t={};function e(r){return t[r]}r.get=e;function n(r,e){t[r]=e}r.put=n;function i(r){delete t[r]}r.drop=i})(a=r.DBService||(r.DBService={}));var D;(function(r){r.envMode=t.DEVELOP;r.debugMode=0;r.WIDTH=1280;r.HEIGHT=720;r.width=1280;r.height=720;r.VERSION="1.0.0"})(D=r.Global||(r.Global={}));var u;(function(r){function e(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}console.log(r.join(" "))}r.log=e;function t(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}console.warn(r.join(" "))}r.warn=t;function n(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}console.error(r.join(" "))}r.error=n})(u=r.Logger||(r.Logger={}));var l;(function(o){var n={};function r(r){var e=n[r]||null;if(e!==null&&e.length>0){var t=e.pop();delete t["__suncom__$__inPool__"];return t}return null}o.getItem=r;function e(r,e,t){var n=o.getItem(r);if(n===null){if(Laya.Prefab!==void 0&&e===Laya.Prefab){var i=new Laya.Prefab;i.json=Laya.Loader.getRes(t[0]);n=i.create()}else{n={};n.__proto__=e.prototype;if(t===void 0){e.call(n)}else if(t instanceof Array===false){e.call(n,t)}else{e.apply(n,t)}}}return n}o.getItemByClass=e;function t(r,e){if(e["__suncom__$__inPool__"]===true){return}e["__suncom__$__inPool__"]=true;var t=n[r]||null;if(t===null){n[r]=[e]}else{t.push(e)}}o.recover=t;function i(r){if(n[r]!==void 0){delete n[r]}}o.clear=i})(l=r.Pool||(r.Pool={}));var _;(function(r){var n=1;var i=1103515245;var o=12345;var a=32767;function e(r){n=r}r.seed=e;function t(){var r=dcodeIO.Long.fromNumber(n);var e=dcodeIO.Long.fromNumber(i);var t=dcodeIO.Long.fromNumber(o);n=Math.floor(r.mul(e).add(t).low/a);return(n%a+a)/(a*2)}r.random=t})(_=r.Random||(r.Random={}))})(suncom||(suncom={}));